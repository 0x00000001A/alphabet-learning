!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){var i=function(){function t(){}return t.addClass=function(t,e){if(!this.isString(e)||!e.length)throw new Error("Class name should be non-empty string");t.className.length?this.hasClass(t,e)||(t.className=t.className.replace(e,"")+" "+e):t.className=e},t.hasClass=function(t,e){if(!this.isString(e)||!e.length)throw new Error("Class name should be non-empty string");return t.className.indexOf(" "+e)>-1||t.className.indexOf(e+" ")>-1||t.className===e},t.removeClass=function(t,e){if(!this.isString(e)||!e.length)throw new Error("Class name should be non-empty string");this.hasClass(t,e)&&(t.className=t.className.replace(" "+e,"").replace(e+" ","").replace(e,""))},t.isString=function(t){return this.isTypeOf(t,"string")},t.isNumber=function(t){return this.isTypeOf(t,"number")},t.isArray=function(t){return this.isInstanceOf(t,Array)},t.isTypeOf=function(t,e){return String(typeof t).toLowerCase()===String(e).toLowerCase()},t.isInstanceOf=function(t,e){return t instanceof e},t.getRandomUpTo=function(t){if(!this.isNumber(t))throw new Error("Value should be a number");return Math.floor(Math.random()*t)},t.arrayItemsAreInstancesOf=function(t,e){if(!this.isArray(t))throw new Error("Is not an array");for(var i=t.length,r=0;r<i;r++)if(!(t[r]instanceof e))return!1;return!0},t}();t.exports=i},function(t,e,i){var r=i(0),n=function(){function t(t,e){this.__verifyInputData(t,e),this.__id=t,this.__score=0,this.__letter=e.letter,this.__sentence=e.sentence||"",this.__description=e.description,this.__transcription=e.transcription||""}return t.prototype={constructor:t,getId:function(){return this.__id},getScore:function(){return this.__score},addScore:function(){this.__score++},reduceScore:function(){this.__score--},getLetter:function(){return this.__letter},getSentence:function(){return this.__sentence},getDescription:function(){return this.__description},getTranscription:function(){return this.__transcription},__verifyInputData:function(t,e){if(!r.isNumber(t))throw new TypeError("Letter ID is incorrect");if(!r.isString(e.letter)||!e.letter.length)throw new Error('"Letter" propery is required and cannot be empty');if(!r.isString(e.description)||!e.description.length)throw new Error('"Description" property is required and cannot be empty');if(r.isString(e.sentence)&&!e.sentence.length)throw new Error("Sentence cannot be empty if passed in");if(r.isString(e.transcrition)&&!e.transcrition.length)throw new Error("Transcription cannot be empty if passed in")}},t}();t.exports=n},function(t,e,i){i(3);var r=i(4),n=i(5);new(i(6))([n,r]).start()},function(t,e){},function(t,e){t.exports={name:"Japan",code:"ja",api:"https://translate.google.ru/translate_tts?ie=UTF-8&q=%s&tl=%l&total=1&idx=0&textlen=1&client=tw-ob",groups:[[{letter:"あ",description:"a"},{letter:"い",description:"i"},{letter:"う",description:"u"},{letter:"え",description:"e"},{letter:"お",description:"o"}],[{letter:"か",description:"ka"},{letter:"き",description:"ki"},{letter:"く",description:"ku"},{letter:"け",description:"ke"},{letter:"こ",description:"ko"}],[{letter:"さ",description:"sa"},{letter:"し",description:"shi"},{letter:"す",description:"su"},{letter:"せ",description:"se"},{letter:"そ",description:"so"}],[{letter:"た",description:"ta"},{letter:"ち",description:"chi"},{letter:"つ",description:"tsu"},{letter:"て",description:"te"},{letter:"と",description:"to"}],[{letter:"は",description:"ha"},{letter:"ひ",description:"hi"},{letter:"ふ",description:"fu"},{letter:"へ",description:"he"},{letter:"ほ",description:"ho"}],[{letter:"ら",description:"ra"},{letter:"り",description:"ri"},{letter:"る",description:"ru"},{letter:"れ",description:"re"},{letter:"ろ",description:"ro"}],[{letter:"や",description:"ya"},{letter:"ゆ",description:"yu"},{letter:"よ",description:"yo"}],[{letter:"わ",description:"wa"},{letter:"を",description:"wo"},{letter:"ん",description:"n"}]]}},function(t,e){t.exports={name:"Japan",code:"ja",api:"https://translate.google.ru/translate_tts?ie=UTF-8&q=%s&tl=%l&total=1&idx=0&textlen=1&client=tw-ob",groups:[[{letter:"ア",description:"a"},{letter:"イ",description:"i"},{letter:"ウ",description:"u"},{letter:"エ",description:"e"},{letter:"オ",description:"o"}],[{letter:"カ",description:"ka"},{letter:"キ",description:"ki"},{letter:"ク",description:"ku"},{letter:"ケ",description:"ke"},{letter:"コ",description:"ko"}],[{letter:"サ",description:"sa"},{letter:"シ",description:"shi"},{letter:"ス",description:"su"},{letter:"セ",description:"se"},{letter:"ソ",description:"so"}],[{letter:"タ",description:"ta"},{letter:"チ",description:"chi"},{letter:"ツ",description:"tsu"},{letter:"テ",description:"te"},{letter:"ト",description:"to"}],[{letter:"ナ",description:"na"},{letter:"ニ",description:"ni"},{letter:"ヌ",description:"nu"},{letter:"ネ",description:"ne"},{letter:"ノ",description:"no"}],[{letter:"ハ",description:"ha"},{letter:"ヒ",description:"hi"},{letter:"フ",description:"fu"},{letter:"ヘ",description:"he"},{letter:"ホ",description:"ho"}],[{letter:"マ",description:"ma"},{letter:"ミ",description:"mi"},{letter:"ム",description:"mu"},{letter:"メ",description:"me"},{letter:"モ",description:"mo"}],[{letter:"ヤ",description:"ya"},{letter:"ユ",description:"yu"},{letter:"ヨ",description:"yo"}],[{letter:"ラ",description:"ra"},{letter:"リ",description:"ri"},{letter:"ル",description:"ru"},{letter:"レ",description:"re"},{letter:"ロ",description:"ro"}],[{letter:"ワ",description:"wa"},{letter:"ヲ",description:"wo"},{letter:"ン",description:"n"}],[{letter:"ガ",description:"ga"},{letter:"ギ",description:"gi"},{letter:"グ",description:"gu"},{letter:"ゲ",description:"ge"},{letter:"ゴ",description:"go"}],[{letter:"ザ",description:"za"},{letter:"ジ",description:"ji"},{letter:"ズ",description:"zu"},{letter:"ゼ",description:"ze"},{letter:"ゾ",description:"zo"}],[{letter:"ダ",description:"da"},{letter:"ヂ",description:"ji"},{letter:"ヅ",description:"zu"},{letter:"デ",description:"de"},{letter:"ド",description:"do"}],[{letter:"バ",description:"ba"},{letter:"ビ",description:"bi"},{letter:"ブ",description:"bu"},{letter:"ベ",description:"be"},{letter:"ボ",description:"bo"}],[{letter:"パ",description:"pa"},{letter:"ピ",description:"pi"},{letter:"プ",description:"pu"},{letter:"ぺ",description:"pe"},{letter:"ポ",description:"po"}],[{letter:"キャ",description:"kya"},{letter:"キュ",description:"kyu"},{letter:"キョ",description:"kyo"}],[{letter:"シャ",description:"sha"},{letter:"シュ",description:"shu"},{letter:"ショ",description:"sho"}],[{letter:"チャ",description:"cha"},{letter:"チュ",description:"chu"},{letter:"チョ",description:"cho"}],[{letter:"ニャ",description:"nya"},{letter:"ニュ",description:"nyu"},{letter:"ニョ",description:"nyo"}],[{letter:"ヒャ",description:"hya"},{letter:"ヒュ",description:"hyu"},{letter:"ヒョ",description:"hyo"}],[{letter:"ミャ",description:"mya"},{letter:"ミュ",description:"myu"},{letter:"ミョ",description:"myo"}],[{letter:"リャ",description:"rya"},{letter:"リュ",description:"ryu"},{letter:"リョ",description:"ryo"}],[{letter:"ギゃ",description:"gya"},{letter:"ギュ",description:"gyu"},{letter:"ギョ",description:"gyo"}],[{letter:"ジャ",description:"zya",transcription:"(d)ʑa"},{letter:"ジュ",description:"zyu",transcription:"(d)ʑɯ"},{letter:"ジョ",description:"zyo",transcription:"(d)ʑo"}],[{letter:"ヂャ",description:"d(z)ya",transcription:"(d)ʑa"},{letter:"ヂュ",description:"d(z)yu",transcription:"(d)ʑɯ"},{letter:"ヂョ",description:"d(z)yo",transcription:"(d)ʑo"}],[{letter:"ビャ",description:"bya"},{letter:"ビュ",description:"byu"},{letter:"ビョ",description:"byo"}],[{letter:"ピャ",description:"pya"},{letter:"ピュ",description:"pyu"},{letter:"ピョ",description:"pyo"}],[{letter:"サヽキ",description:"Sasaki",sentence:"Katakana iteration mark, indicating that the previous katakana character should be repeated."},{letter:"サヾエ",description:"Sazae",sentence:"Katakana voiced iteration mark, indicating that the previous katakana character should be repeated with a voice mark applied"},{letter:"ー",description:"マー",sentence:"Long vowel mark - marks a long vowel in katakana and less commonly in hiragana (when placed after a syllable). This mark appears as a horizontal line in horizontal writing and as a vertical line in vertical writing."}]]}},function(t,e,i){var r=i(0),n=i(7),s=function(){function t(t){this.__verifyInputData(t),this.__view={},this.__modes=2,this.__alphabets=t,this.__difficulty=1,this.__currentMode=0,this.__currentGroup=[],this.__currentQuestion=null,this.__currentDatabase=null,this.__currentOptionElement=null,this.__currentOptionElementIndex=-1,this.__inputIsBlocked=!1,this.__ANIMATIONS_DELAY=400,this.__MIN_SCORE_TO_REMEMBER=4,this.__MIN_SCORE_TO_ACCEPT_PROGRESS=6,this.__ELEMENT_QUESTION_SUCCESS_CLASS="quiz__question_shake",this.__ELEMENT_QUESTION_FAILURE_CLASS="quiz__question_shake",this.__ELEMENT_OPTION_SUCCESS_CLASS="quiz__option_right",this.__ELEMENT_OPTION_FAILURE_CLASS="quiz__option_wrong",this.__ELEMENT_OPTION_CLASS="quiz__option",this.__ELEMENT_QUIZ_CONTAINER="quiz",this.__ELEMENT_PROGRESS_ID="quiz__progress",this.__ELEMENT_QUESTION_ID="quiz__question",this.__ELEMENT_SENTENCE_ID="quiz__sentence",this.__ELEMENT_OPTIONS_ID="quiz__options",this.__ELEMENT_MESSAGE_ID="quiz__message",this.__ELEMENT_OPTION_DATA_ID_NAME="data-id",this.__EVENTS_MOUSEUP_NAME="mouseup",this.__EVENTS_KEYDOWN_NAME="keydown",this.__KEY_CODE_UP=38,this.__KEY_CODE_DOWN=40,this.__KEY_CODE_LEFT=37,this.__KEY_CODE_RIGHT=39,this.__KEY_CODE_ENTER=13,this.__KEY_CODE_SPACE=32}return t.prototype={constructor:t,start:function(){this.__initQuestions(),this.__initKeyboard(),this.__initView(),this.__next()},__initQuestions:function(){this.__currentDatabase=new n(this.__alphabets[0])},__initKeyboard:function(){document.addEventListener(this.__EVENTS_KEYDOWN_NAME,function(t){switch(t.keyCode){case this.__KEY_CODE_LEFT:case this.__KEY_CODE_DOWN:this.__focusPreviousOption();break;case this.__KEY_CODE_UP:case this.__KEY_CODE_RIGHT:this.__focusNextOption();break;case this.__KEY_CODE_SPACE:case this.__KEY_CODE_ENTER:this.__answer(t)}}.bind(this))},__initView:function(){this.__view.progress=document.getElementById(this.__ELEMENT_PROGRESS_ID),this.__view.container=document.getElementById(this.__ELEMENT_QUIZ_CONTAINER),this.__view.sentence=document.getElementById(this.__ELEMENT_SENTENCE_ID),this.__view.question=document.getElementById(this.__ELEMENT_QUESTION_ID),this.__view.options=document.getElementById(this.__ELEMENT_OPTIONS_ID),this.__view.message=document.getElementById(this.__ELEMENT_MESSAGE_ID),setTimeout(function(){r.removeClass(this.__view.container,"quiz__loading")}.bind(this),this.__ANIMATIONS_DELAY)},__next:function(){setTimeout(function(){this.__inputIsBlocked=!1,this.__changeGroup(),this.__changeQuestion(),this.__changeMode(),this.__displayProgress(),this.__displayMessage(),this.__displaySentence(),this.__displayQuestion(),this.__displayOptions(),this.__focusOptionWithCurrentIndex(),this.__pronounceAnswer()}.bind(this),this.__ANIMATIONS_DELAY)},__changeMode:function(){this.__currentQuestion&&this.__answerPossiblyRemembered()?this.__currentMode=r.getRandomUpTo(this.__modes+1):this.__currentMode=0},__changeGroup:function(){this.__currentGroup=this.__currentDatabase.getGroup(r.getRandomUpTo(this.__difficulty))},__changeQuestion:function(){this.__currentQuestion=this.__currentGroup.getLetter(r.getRandomUpTo(this.__currentGroup.size()))},__displayProgress:function(){this.__view.progress.style.width=this.__getProgress()+"%"},__displayMessage:function(){var t;if(this.__answerPossiblyRemembered())switch(this.__currentMode){case 0:case 1:t="Select one option";break;case 2:t="Type your answer and press Enter"}else switch(this.__currentMode){case 0:t=this.__currentQuestion.getDescription();break;case 1:t=this.__currentQuestion.getLetter()}this.__view.message.innerHTML=t},__displayQuestion:function(){var t;switch(this.__currentMode){case 0:case 2:t=this.__currentQuestion.getLetter();break;case 1:t=this.__currentQuestion.getDescription()}this.__view.question.innerHTML=t},__displaySentence:function(){this.__view.sentence.innerHTML=this.__currentQuestion.getSentence()},__displayOptions:function(){var t;switch(this.__currentMode){case 0:case 1:t=this.__generateOptions();break;case 2:t=this.__generateInput()}this.__view.options.innerHTML="",this.__view.options.appendChild(t)},__getProgress:function(){for(var t=0,e=0,i=this.__currentDatabase.size(),r=0;r<i;r++)for(var n=this.__currentDatabase.getGroup(r),s=n.size(),o=0;o<s;o++)n.getLetter(o).getScore()>this.__MIN_SCORE_TO_ACCEPT_PROGRESS&&e++,t++;return e/t*100},__generateOptions:function(){var t=this.__currentGroup.size();this.__view.options.innerHTML="";for(var e=document.createDocumentFragment(),i=[],r=0;r<t;r++)i.push(this.__currentGroup.getLetter(r));this.__shuffleOptions(i);for(var r=0;r<t;r++){var n=document.createElement("a"),s=i[r],o="";o+='<span class="quiz__option__text">',0===this.__currentMode?(o+=s.getDescription(),s.getTranscription().length&&(o+="<br/>["+s.getTranscription()+"]")):o+=s.getLetter(),o+="</span>",n.innerHTML=o,n.classList=this.__ELEMENT_OPTION_CLASS,n.href="#",n.setAttribute(this.__ELEMENT_OPTION_DATA_ID_NAME,s.getId()),n.addEventListener(this.__EVENTS_MOUSEUP_NAME,this.__answer.bind(this)),e.appendChild(n)}return e},__generateInput:function(){this.__currentGroup.size();this.__view.options.innerHTML="";var t=(document.createDocumentFragment(),document.createElement("input"));return t.setAttribute("type","text"),t.setAttribute("placeholder","Enter your answer here"),r.addClass(t,"quiz__input"),t},__focusNextOption:function(){this.__currentOptionElementIndex<this.__currentGroup.size()-1?this.__currentOptionElementIndex++:this.__currentOptionElementIndex=0,this.__focusOptionWithCurrentIndex()},__focusPreviousOption:function(){this.__currentOptionElementIndex>0?this.__currentOptionElementIndex--:this.__currentOptionElementIndex=this.__currentGroup.size()-1,this.__focusOptionWithCurrentIndex()},__focusOptionWithCurrentIndex:function(){this.__view.options.childNodes[this.__currentOptionElementIndex]||(this.__currentOptionElementIndex=0),this.__view.options.childNodes[this.__currentOptionElementIndex].focus()},__shuffleOptions:function(t){var e,i,n;for(n=t.length-1;n>0;n--)e=r.getRandomUpTo(n+1),i=t[n],t[n]=t[e],t[e]=i},__answer:function(t){if(!this.__inputIsBlocked){var e=this.__answerIsCorrect(t.target);this.__currentOptionElement="span"===t.target.tagName.toLowerCase()?t.target.parentElement:t.target,e?(this.__inputIsBlocked=!0,this.__currentQuestion.addScore(),this.__increaseDifficultyIfNeeded(),this.__showWhatAnswerIsCorrect(),this.__next()):(this.__currentQuestion.reduceScore(),this.__showWhatAnswerIsWrong(),this.__pronounceAnswer())}},__increaseDifficultyIfNeeded:function(){for(var t=this.__currentDatabase.getGroup(this.__difficulty-1),e=t.size(),i=0;i<e;i++)if(t.getLetter(i).getScore()<this.__MIN_SCORE_TO_REMEMBER)return;this.__difficulty++},__showWhatAnswerIsCorrect:function(){2!==this.__currentMode&&r.addClass(this.__currentOptionElement,this.__ELEMENT_OPTION_SUCCESS_CLASS)},__showWhatAnswerIsWrong:function(){r.addClass(this.__currentOptionElement,this.__ELEMENT_OPTION_FAILURE_CLASS),r.addClass(this.__view.question,this.__ELEMENT_QUESTION_FAILURE_CLASS),setTimeout(function(){r.removeClass(this.__currentOptionElement,this.__ELEMENT_OPTION_FAILURE_CLASS),r.removeClass(this.__view.question,this.__ELEMENT_QUESTION_FAILURE_CLASS)}.bind(this),this.__ANIMATIONS_DELAY)},__answerIsCorrect:function(t){var e="span"===t.tagName.toLowerCase()?t.parentElement:t;switch(this.__currentMode){case 0:case 1:return this.__currentQuestion.getId()===Number(e.getAttribute(this.__ELEMENT_OPTION_DATA_ID_NAME));case 2:return this.__currentQuestion.getDescription().toLowerCase()===e.value.toLowerCase()}return!1},__pronounceAnswer:function(){2!==this.__currentMode&&this.__currentDatabase.pronounceLetter(this.__currentQuestion)},__answerPossiblyRemembered:function(){return this.__currentQuestion.getScore()>this.__MIN_SCORE_TO_REMEMBER},__verifyInputData:function(t){if(!r.isArray(t)||!t.length)throw new TypeError("Alphabets must be an array and cant be empty")}},t}();t.exports=s},function(t,e,i){var r=i(0),n=(i(1),i(8)),s=i(9),o=function(){function t(t){this.__verifyInputData(t),this.__groups=[],this.__groupsCount=0,this.__languageName="",this.__languageCode="",this.__alphabetPronounce=new n(t.code,t.api),this.__initGroups(t.groups)}return t.prototype={constructor:t,size:function(){return this.__groupsCount},getGroup:function(t){if(!r.isNumber(t))throw new TypeError("Group ID must be a string");return this.__groups[t]},pronounceLetter:function(t){this.__alphabetPronounce.pronounce(t)},__addGroup:function(t,e){this.__groups[t]=new s(t,e),this.__groupsCount++},__initGroups:function(t){for(var e=t.length,i=0;i<e;i++)this.__addGroup(i,t[i])},__verifyInputData:function(t){if(!r.isString(t.name)||!t.name.length)throw new Error("Name is required");if(!r.isArray(t.groups)||!t.groups.length)throw new Error("Groups property is required")}},t}();t.exports=o},function(t,e,i){var r=i(0),n=i(1),s=function(){function t(t,e){this.__verifyInputData(t),this.__cache=[],this.__apiUri=e,this.__languageCode=t,this.__auidoEnabled=!!e&&this.__isBrowserCanPlayAudio()}return t.prototype={constructor:t,pronounce:function(t){if(this.__auidoEnabled&&r.isInstanceOf(t,n)){var e=this.__getFromCache(t);e?e.play():this.__addToCache(t,function(t){t.play()})}},__addToCache:function(t,e){var i=this.__cache[this.__getCacheKey(t)]=new Audio(this.__buildApiUri(t));i.oncanplaythrough=function(){e(i)}.bind(this)},__getFromCache:function(t){return this.__cache[this.__getCacheKey(t)]},__getCacheKey:function(t){return t.getId()+t.getLetter()+t.getDescription()},__buildApiUri:function(t){return this.__apiUri.replace("%s",t.getLetter()).replace("%l",this.__languageCode)},__isBrowserCanPlayAudio:function(){try{return new Audio,!0}catch(t){return!1}},__verifyInputData:function(t,e){if(!r.isString(t)||!t.length)throw new TypeError("Language code must be a string and cannot be empty");if(r.isString(e)&&!e.length)throw new Error("Api uri must be fullfilled if passed in")}},t}();t.exports=s},function(t,e,i){var r=i(0),n=i(1),s=function(){function t(t,e){this.__verifyInputData(t,e),this.__id=t,this.__letters=[],this.__lettersCount=0,this.__initLetters(e)}return t.prototype={constructor:t,size:function(){return this.__lettersCount},getId:function(){return this.__id},getLetter:function(t){if(!r.isNumber(t))throw new TypeError("Group ID must be a number");return this.__letters[t]},__addLetter:function(t,e){this.__letters[t]=new n(t,e),this.__lettersCount++},__initLetters:function(t){for(var e=t.length,i=0;i<e;i++)this.__addLetter(i,t[i])},__verifyInputData:function(t,e){if(!r.isNumber(t))throw new TypeError("Group ID must be a number");if(!r.isArray(e)||!e.length)throw new TypeError("Letters must be an array and cannot be empty")}},t}();t.exports=s}]);